"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[156],{9022:function(e,t,a){a.d(t,{Z:function(){return _}});var l=a(3396),n=a(2268);const i=e=>((0,l.dD)("data-v-3ecde116"),e=e(),(0,l.Cn)(),e),s={class:"game-history-widget"},r={class:"game-history-widget__section"},o={class:"game-history-widget__wrap"},u={key:0},d=i((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Player"),(0,l._)("th",null,"Score"),(0,l._)("th",null,"Game Id"),(0,l._)("th",null,"Date")])],-1))),c={key:1},g={key:0,class:"game-history-widget__description"};function m(e,t,a,i,m,h){const v=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",r,[(0,l._)("div",o,[e.gameHistory.length?((0,l.wg)(),(0,l.iD)("table",u,[d,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.gameHistory,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t,class:(0,n.C_)({highlight:t===m.lastAddedIndex,"game-history-widget__table-row-im":h.userTag==e.userTag})},[(0,l._)("td",null,[(0,l.Wm)(v,{to:`/player/${e.userTag}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.userTag),1)])),_:2},1032,["to"])]),(0,l._)("td",null,(0,n.zw)(e.score)+"â‚¿",1),(0,l._)("td",null,[(0,l.Wm)(v,{to:`/games/${e.gameId}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.gameId),1)])),_:2},1032,["to"])]),(0,l._)("td",null,(0,n.zw)(h.formatDate(e.timestamp)),1)],2)))),128))])])):((0,l.wg)(),(0,l.iD)("p",c,"No game history available"))])]),h.userTag?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",g,[(0,l.Uk)("Only authorized players are shown in the game history. Visit "),(0,l.Wm)(v,{to:"/my"},{default:(0,l.w5)((()=>[(0,l.Uk)("My Bitcat Page")])),_:1}),(0,l.Uk)(" to get started!")]))])}var h=a(7139),v=a(986),p={name:"GameHistoryWidget",computed:{...(0,h.Se)(["gameHistory"]),userTag(){return v.Z.getters.userTag}},data(){return{lastAddedIndex:null}},watch:{gameHistory:{handler(e){e.length&&(this.lastAddedIndex=0,setTimeout((()=>{this.lastAddedIndex=null}),3e3))}}},methods:{...(0,h.nv)(["fetchGameHistory"]),formatDate(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}},created(){this.fetchGameHistory()}},y=a(89);const w=(0,y.Z)(p,[["render",m],["__scopeId","data-v-3ecde116"]]);var _=w},6156:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var l=a(3396),n=a(2268);const i={class:"home-page"},s=["src"],r={class:"info"},o={key:0};function u(e,t,a,u,d,c){const g=(0,l.up)("GameHistoryWidget");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("div",{class:"game-container",ref:"gameArea",onClick:t[1]||(t[1]=(...e)=>u.catchCoin&&u.catchCoin(...e))},[(0,l._)("img",{src:u.catImage,style:(0,n.j5)(u.catStyle),alt:"Cat"},null,12,s),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.coins,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"coin",style:(0,n.j5)(e.style)},null,4)))),128)),(0,l._)("div",r,[(0,l._)("p",null,"Score: "+(0,n.zw)(u.score.toFixed(1)),1),(0,l._)("p",null,"Lives: "+(0,n.zw)(u.lives),1),u.isGameOver?((0,l.wg)(),(0,l.iD)("p",o,"Game Over! Final Score: "+(0,n.zw)(u.score.toFixed(1)),1)):(0,l.kq)("",!0)]),u.isGameOver?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>u.resetGame&&u.resetGame(...e))},"Restart")):(0,l.kq)("",!0)],512),(0,l.Wm)(g)])}a(7658);var d=a(4870),c=a(9022),g={components:{GameHistoryWidget:c.Z},setup(){const e="",t=(0,d.iH)(50),a=(0,d.iH)(0),n=(0,d.iH)(9),i=(0,d.qj)([]),s=(0,l.Fl)((()=>n.value<=0||r.value>=30)),r=(0,d.iH)(0);let o=null,u=null;const c=(0,d.iH)(null),g=(0,l.Fl)((()=>({width:`${t.value}px`,height:`${t.value}px`,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",transition:"all 0.5s ease"}))),m=()=>{const e=c.value.getBoundingClientRect(),t={x:Math.random()*e.width,y:Math.random()*e.height,style:{position:"absolute",left:Math.random()*(e.width-20)+"px",top:Math.random()*(e.height-20)+"px",width:"50px",height:"50px",backgroundColor:"gold",borderRadius:"50%"}};i.push(t),setTimeout((()=>{const e=i.indexOf(t);e>-1&&(i.splice(e,1),0!=a.value&&(a.value-=.5))}),2e3)},h=e=>{const l=i.findIndex((t=>{const a=c.value.getBoundingClientRect(),l=a.left+parseFloat(t.style.left),n=a.top+parseFloat(t.style.top);return e.clientX>=l&&e.clientX<=l+50&&e.clientY>=n&&e.clientY<=n+50}));l>-1?(i.splice(l,1),a.value+=1,t.value+=5):(n.value>0&&(n.value-=1),t.value>55&&(t.value-=5))},v=()=>{o=setInterval((()=>r.value++),1e3),u=setInterval(m,2e3)},p=()=>{a.value=0,n.value=9,t.value=50,i.length=0,r.value=0,clearInterval(o),clearInterval(u),v()};return(0,l.bv)((()=>v())),(0,l.Ah)((()=>{clearInterval(o),clearInterval(u)})),{catImage:e,catStyle:g,coins:i,score:a,lives:n,isGameOver:s,gameArea:c,catchCoin:h,resetGame:p}}},m=a(89);const h=(0,m.Z)(g,[["render",u]]);var v=h}}]);
//# sourceMappingURL=156.a1c4eed3.js.map