{"version":3,"file":"js/820.9113237e.js","mappings":"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","sources":["webpack://app/./src/pages/SoloGamePage.vue","webpack://app/./src/components/GameHistoryWidget.vue","webpack://app/./src/components/GameHistoryWidget.vue?b742","webpack://app/./src/components/RulesPopup.vue","webpack://app/./src/components/SharePopup.vue","webpack://app/./src/components/SharePopup.vue?92e8","webpack://app/./src/pages/SoloGamePage.vue?3219"],"sourcesContent":["<template>\n  <div class=\"game-container\">\n    <!-- Игровая информация -->\n    <div class=\"game-info\">\n      <div class=\"score-panel\">\n        <div class=\"score-item\">Score: <span>{{ score }}</span>₿</div>\n        <div class=\"score-item\">Lives: <span>{{ lives }}</span></div>\n        <div class=\"score-item\">Time: <span>{{ timeLeft }}</span>s</div>\n      </div>\n    </div>\n\n    <!-- Игровое поле -->\n    <div class=\"game-field-wrap\">\n      <div class=\"game-field\" ref=\"gameField\" @click=\"handleClick\">\n        <!-- Кот -->\n        <img \n          :src=\"catImage\" \n          class=\"cat\"\n          :style=\"{\n            transform: `translate(-50%, -50%) scale(${catScale})`\n          }\"\n          alt=\"Cat\"\n        />\n        \n        <!-- Монеты -->\n        <template v-for=\"coin in coins\" :key=\"coin.id\">\n          <img \n            :src=\"coinImage\"\n            class=\"coin\"\n            :style=\"{\n              left: (coin.x - coin.size/2) + 'px',\n              top: (coin.y - coin.size/2) + 'px',\n              width: coin.size + 'px',\n              height: coin.size + 'px'\n            }\"\n            alt=\"Coin\"\n          />\n        </template>\n      </div>\n      <!-- Статус игры и кнопки -->\n      <div class=\"game-status\">\n        <template v-if=\"gameOver\">\n          <template v-if=\"isFirstGame\">\n            <h2>Let's play and<br>PUMP the cat!</h2>\n          </template>\n          <template v-else>\n            <h2 class=\"game-over-title\">BITCAT PUMPED!</h2>\n            <p>Your score: {{ score }}₿</p>\n          </template>\n          <button class=\"play-button\" :disabled=\"isButtonDisabled\" @click=\"startGameHandler\">{{ isFirstGame ? 'Play' : 'Play Again' }}</button>\n          <button v-if=\"gameOver && !isFirstGame\" class=\"share-button\" @click=\"showShare = true\">Share</button>\n          <button v-if=\"isFirstGame\" class=\"rules-button\" @click=\"showRules = true\">Rules</button>\n        </template>\n      </div>\n    </div>\n\n    <div v-if=\"error\" class=\"error-message\">\n      {{ error }}\n    </div>\n\n    <GameHistoryWidget />\n\n    <RulesPopup v-model=\"showRules\" />\n    <SharePopup v-model=\"showShare\" :score=\"score\" />\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted, computed, watch } from 'vue'\nimport GameHistoryWidget from '@/components/GameHistoryWidget.vue';\nimport store from '@/vuex'\nimport catImage from '@/assets/bitcat.webp'\nimport coinImage from '@/assets/coin.png'\nimport RulesPopup from '@/components/RulesPopup.vue'\nimport SharePopup from '@/components/SharePopup.vue'\n\nexport default {\n  name: 'SoloGamePage',\n  \n  components: {\n    RulesPopup,\n    SharePopup,\n    GameHistoryWidget\n  },\n\n  setup() {\n    const gameField = ref(null)\n    const showRules = ref(false)\n    const showShare = ref(false)\n    const isButtonDisabled = ref(false)\n\n    // Computed properties using store state\n    const score = computed(() => store.state.game.score)\n    const lives = computed(() => store.state.game.lives)\n    const timeLeft = computed(() => store.state.game.timeLeft)\n    const coins = computed(() => store.state.game.coins)\n    const isPlaying = computed(() => store.state.game.isPlaying)\n    const gameOver = computed(() => store.state.game.gameOver)\n    const isFirstGame = computed(() => store.state.game.isFirstGame)\n    const catScale = computed(() => {\n      console.log('Cat scale computed:', store.state.game.catScale)\n      return store.state.game.catScale || 0.5\n    })\n    const error = computed(() => store.state.error)\n\n    // Отслеживаем изменения размера кота\n    watch(catScale, (newScale, oldScale) => {\n      console.log('Cat scale changed:', { old: oldScale, new: newScale })\n    })\n\n    // Watch for game over to show share popup\n    watch(gameOver, (newValue) => {\n      if (newValue && !isFirstGame.value) {\n        showShare.value = true\n      }\n    })\n\n    // Game methods\n    const initSocket = () => {\n      store.dispatch('initSocket')\n    }\n\n    const startGameHandler = () => {\n      isButtonDisabled.value = true\n      setTimeout(() => {\n        isButtonDisabled.value = false\n      }, 5000)\n      const rect = gameField.value.getBoundingClientRect()\n      \n      console.log('🎮 Start Game - Store State:', {\n        isAuthenticated: store.getters.isAuthenticated,\n        userTag: store.getters.userTag\n      });\n\n      if (!store.state.socket) {\n        console.log('Initializing socket')\n        initSocket()\n      }\n\n      // Добавляем небольшую задержку для уверенности, что сокет подключился\n      setTimeout(() => {\n        console.log('Dispatching startGame')\n        store.dispatch('startGame', {\n          playerId: store.getters.userTag || 'no_named_cat',\n          width: rect.width,\n          height: rect.height\n        })\n      }, 500)\n    }\n\n    const handleClick = (event) => {\n      if (!isPlaying.value) return\n      \n      const field = gameField.value\n      const rect = field.getBoundingClientRect()\n      \n      // Получаем масштаб\n      const scaleX = field.offsetWidth / rect.width\n      const scaleY = field.offsetHeight / rect.height\n      \n      // Получаем координаты клика относительно игрового поля с учетом масштаба\n      const x = (event.clientX - rect.left) * scaleX\n      const y = (event.clientY - rect.top) * scaleY\n      \n      console.log('Click coordinates:', { \n        x, \n        y,\n        scale: { scaleX, scaleY },\n        client: { \n          x: event.clientX, \n          y: event.clientY \n        },\n        rect: {\n          left: rect.left,\n          top: rect.top,\n          width: rect.width,\n          height: rect.height\n        }\n      })\n      \n      store.dispatch('handleCoinClick', { x, y })\n    }\n\n    const cleanup = () => {\n      store.dispatch('cleanup')\n    }\n\n    // Lifecycle hooks\n    onMounted(() => {\n      initSocket()\n      // document.body.style.overflow = 'hidden'\n    })\n\n    onUnmounted(() => {\n      cleanup()\n      document.body.style.overflow = 'auto'\n    })\n\n    return {\n      gameField,\n      showRules,\n      showShare,\n      catImage,\n      coinImage,\n      score,\n      lives,\n      timeLeft,\n      coins,\n      isPlaying,\n      gameOver,\n      isFirstGame,\n      catScale,\n      error,\n      handleClick,\n      startGameHandler,\n      isButtonDisabled\n    }\n  }\n}\n</script>\n\n<style scoped>\n.game-container {\n  width: 100vw;\n  /* height: 100vh; */\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  background: #e38f00;\n  margin: 0;\n  padding: 0 0 20px;\n}\n\n.game-info {\n  margin: 20px 0;\n  padding: 10px;\n  display: flex;\n  gap: 20px;\n  font-size: 20px;\n  font-weight: 500;\n  z-index: 1;\n  background: #FFE4C4;\n  border-radius: 12px;\n  position: relative;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.game-info::before {\n  content: 'Game Info';\n  position: absolute;\n  top: -12px;\n  left: 20px;\n  background: rgb(215, 77, 36);\n  color: white;\n  padding: 2px 15px;\n  border-radius: 8px;\n  font-size: 0.8em;\n  font-weight: bold;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.score-panel {\n  display: flex;\n  justify-content: center;\n  gap: 30px;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.7);\n  border-radius: 8px;\n  padding: 4px 8px;\n  margin-top: 5px;\n}\n\n.score-item {\n  color: #8B4513;\n  font-weight: 500;\n  padding: 5px 15px;\n  border-radius: 6px;\n  transition: opacity 0.2s;\n}\n\n.score-item:hover {\n  opacity: 0.8;\n}\n\n.score-item span {\n  color: rgb(215, 77, 36);\n  font-weight: 600;\n}\n\n.game-field-wrap {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  max-width: 1200px;\n  height: 100%;\n  min-height: 650px;\n  padding: 15px 10px 10px;\n  background: #FFE4C4;\n}\n\n.game-field-wrap::before {\n  content: 'Game Board';\n  position: absolute;\n  top: -12px;\n  left: 20px;\n  background: rgb(215, 77, 36);\n  color: white;\n  padding: 2px 15px;\n  border-radius: 8px;\n  font-size: 1em;\n  font-weight: bold;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  z-index: 1;\n}\n\n.game-field {\n  width: 100%;\n  height: 100%;\n  background: white;\n  position: relative;\n  overflow: hidden;\n  flex-grow: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 12px;\n}\n\n.game-field {\n  width: 100%;\n  height: 100%;\n  background: white;\n  background-image: \n    url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 16c-7.732 0-14 6.268-14 14s6.268 14 14 14 14-6.268 14-14-6.268-14-14-14zm3 4c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm-6 0c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm3 18c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z' fill='rgba(227, 143, 0, 0.05)'/%3E%3C/svg%3E\"),\n    url(\"data:image/svg+xml,%3Csvg width='52' height='52' viewBox='0 0 52 52' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M26 10c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zm4 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zm-8 0c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zm4 20c-5.523 0-10-4.477-10-10s4.477-10 10-10 10 4.477 10 10-4.477 10-10 10z' fill='rgba(227, 143, 0, 0.03)'/%3E%3C/svg%3E\");\n  background-position: 0 0, 30px 30px;\n  position: relative;\n  overflow: hidden;\n  flex-grow: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.game-status {\n  position: absolute;\n  bottom: 0;\n  padding: 10px 10px 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  text-align: center;\n}\n\n.game-status h2 {\n  margin: 0;\n  font-size: 24px;\n  font-family: 'Sour Gummy', sans-serif;\n  color: #333;\n  text-align: center;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.game-status h2.game-over-title {\n  padding: 5px 10px;\n  color: rgb(215, 77, 36);\n  background: rgba(255, 255, 255, 0.8);\n}\n\n.game-status p {\n  margin: 5px 0;\n  font-size: 20px;\n  background: rgba(255, 255, 255, 0.8);\n}\n\n.play-button {\n  padding: 10px 30px;\n  font-size: 20px;\n  background: rgb(223, 84, 39);\n  color: white;\n  font-family: 'Sour Gummy', sans-serif;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.play-button:hover {\n  background: rgb(215, 77, 36);\n}\n\n.play-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\nbutton:hover {\n  background: #45a049;\n}\n\n.cat {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 100px;\n  height: 100px;\n  transition: all 0.3s ease-in-out;\n  z-index: 0;\n  transform-origin: center center;\n}\n\n.coin {\n  position: absolute;\n  transition: all 0.2s ease;\n  cursor: pointer;\n}\n\n.bonus-clock {\n  position: absolute;\n  width: 25px;\n  height: 25px;\n  cursor: pointer;\n  animation: fadeIn 0.4s;\n  z-index: 100;\n}\n\n.rules-button {\n  background: #666;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 5px;\n  font-size: .8em;\n  font-family: 'Sour Gummy', sans-serif;\n  cursor: pointer;\n  margin-top: 10px;\n  transition: background-color 0.3s;\n}\n\n.rules-button:hover {\n  background: #888;\n}\n\n.share-button {\n  background: #1DA1F2;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 5px;\n  font-size: .8em;\n  font-family: 'Sour Gummy', sans-serif;\n  cursor: pointer;\n  margin-top: 10px;\n  transition: background-color 0.3s;\n}\n\n.share-button:hover {\n  background: #1991db;\n}\n\n@media (min-width: 1200px) {\n  .game-field-wrap {\n    border-radius: 12px;\n  }\n}\n\n@media (max-width: 768px) {\n  .game-info {\n    padding: 12px;\n    margin: 15px 10px;\n  }\n\n  .game-info::before {\n    font-size: 0.7em;\n    padding: 2px 10px;\n    top: -10px;\n  }\n\n  .score-panel {\n    flex-direction: row;\n    flex-wrap: wrap;\n    gap: 15px;\n    padding: 8px;\n  }\n\n  .score-item {\n    font-size: 0.9em;\n    padding: 4px 10px;\n  }\n}\n\n@media (max-width: 768px) {\n  .score-panel {\n    flex-direction: row;\n    flex-wrap: wrap;\n    gap: 15px;\n    padding: 8px;\n  }\n\n  .score-item {\n    font-size: 0.9em;\n    padding: 4px 10px;\n  }\n\n  .game-info {\n    width: 96%;\n    margin-bottom: 25px;\n    padding: 10px;\n    font-size: 18px;\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n</style>","<template>\n  <div class=\"game-history-widget\">\n    <div class=\"game-history-widget__section\">\n      <div class=\"game-history-widget__wrap\">\n        <table v-if=\"gameHistory.length\">\n          <thead>\n            <tr>\n              <th>Player</th>\n              <th>Score</th>\n              <th>Game Id</th>\n              <th>Date</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(game, index) in gameHistory\" :key=\"index\" :class=\"{'highlight': index === lastAddedIndex, 'game-history-widget__table-row-im': userTag == game.userTag}\">\n              <td><router-link :to=\"`/player/${game.userTag}`\">{{ game.userTag }}</router-link></td>\n              <td>{{ game.score }}₿</td>\n              <td><router-link :to=\"`/games/${game.gameId}`\">{{ game.gameId }}</router-link></td>\n              <td>{{ formatDate(game.timestamp) }}</td>\n            </tr>\n          </tbody>\n        </table>\n        <p v-else>No game history available</p>\n      </div>\n      \n    </div>\n    <span v-if=\"!userTag\" class=\"game-history-widget__description\">Only authorized players are shown in the game history. Visit <router-link to=\"/my\">My Bitcat Page</router-link> to get started!</span>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport store from '@/vuex';\n\nexport default {\n  name: 'GameHistoryWidget',\n  computed: {\n    ...mapGetters(['gameHistory']),\n    userTag() {\n      return store.getters.userTag;\n    }\n  },\n  data() {\n    return {\n      lastAddedIndex: null,\n    };\n  },\n  watch: {\n    gameHistory: {\n      handler(newHistory) {\n        if (newHistory.length) {\n          this.lastAddedIndex = 0;\n          setTimeout(() => {\n            this.lastAddedIndex = null;\n          }, 3000);\n        }\n      },\n    },\n  },\n  methods: {\n    ...mapActions(['fetchGameHistory']),\n    formatDate(timestamp) {\n      return new Date(timestamp).toLocaleString('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n  },\n  created() {\n    this.fetchGameHistory();\n  }\n}\n</script>\n\n<style scoped>\n.game-history-widget__wrap {\n  overflow-y: scroll;\n  border-radius: 0 0 10px 10px;\n}\n.game-history-widget__section {\n  margin: 40px 0 0;\n  padding: 15px 10px 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  font-size: 16px;\n  z-index: 1;\n  background: #FFE4C4;\n  border-radius: 12px;\n  position: relative;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  width: 100%;\n  max-width: 800px;\n}\n\n.game-history-widget__section::before {\n  content: 'Recent 10 Games';\n  position: absolute;\n  top: -12px;\n  left: 20px;\n  background: rgb(215, 77, 36);\n  color: white;\n  padding: 2px 15px;\n  border-radius: 8px;\n  font-size: 1em;\n  font-weight: bold;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\ntable {\n  width: 100%;\n  min-width: 750px;\n  border-collapse: collapse;\n  background: #fff;\n  border-radius: 10px;\n  overflow: hidden;\n}\n\nth, td {\n  padding: 8px;\n  text-align: left;\n}\n\ntable tr td a {\n  color: #e38f00;\n}\n\n\n\nth {\n  background-color: #FFE4C4;\n}\n\ntr:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\n.highlight {\n  color: rgb(215, 77, 36);\n  animation: highlightAnimation 3s ease both;\n}\n\ntable .game-history-widget__table-row-im {\n  color: #e38f00;\n  background: rgba(227, 143, 0, 0.15) !important;\n}\n\n@keyframes highlightAnimation {\n  0% {\n    color: rgb(215, 77, 36);\n  }\n  40% {\n    color: rgb(215, 77, 36);\n  }\n  100% {\n    color: black;\n  }\n}\n\n.game-history-widget__description {\n  display: block;\n  width: 100%;\n  max-width: 800px;\n  margin-top: 10px;\n  padding: 6px;\n  background: rgba(215, 77, 36, 0.25);\n  border-left: 4px solid rgb(215, 77, 36);\n  border-radius: 4px;\n  color: #333;\n  font-size: 0.8rem;\n  text-align: center;\n}\n\n.game-history-widget__description a {\n  color: rgb(215, 77, 36);\n  text-decoration: none;\n  font-weight: bold;\n}\n\n.game-history-widget__description a:hover {\n  text-decoration: underline;\n}\n\n@media (max-width: 768px) {\n    .game-history-widget {\n        width: 96%;\n        font-size: 18px;\n    }\n}\n</style>\n","import { render } from \"./GameHistoryWidget.vue?vue&type=template&id=3ecde116&scoped=true\"\nimport script from \"./GameHistoryWidget.vue?vue&type=script&lang=js\"\nexport * from \"./GameHistoryWidget.vue?vue&type=script&lang=js\"\n\nimport \"./GameHistoryWidget.vue?vue&type=style&index=0&id=3ecde116&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3ecde116\"]])\n\nexport default __exports__","import script from \"./RulesPopup.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RulesPopup.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RulesPopup.vue?vue&type=style&index=0&id=79aaadaf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-79aaadaf\"]])\n\nexport default __exports__","<template>\n  <div v-if=\"modelValue\" class=\"share-popup-overlay\" @click=\"$emit('update:modelValue', false)\">\n    <div class=\"share-popup\" @click.stop>\n      <div class=\"share-header\">\n        <h2>Share on X</h2>\n        <button class=\"close-button\" @click=\"$emit('update:modelValue', false)\">×</button>\n      </div>\n      <div class=\"share-content\">\n        <div class=\"share-preview\">\n          <img src=\"@/assets/bitcat-animation.webp\" alt=\"BITCAT\" class=\"share-image\" />\n          <div class=\"share-text\">\n            <p>My BITCAT score: {{ score }}₿! 🎮</p>\n            <p>Can you beat it? 🏆</p>\n            <p>Play now at solanabitcat.com/game 🐱</p>\n          </div>\n        </div>\n        <button class=\"share-button\" @click=\"shareOnTwitter\">\n          Share on X\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits } from 'vue'\n\nconst props = defineProps({\n  modelValue: Boolean,\n  score: Number\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst shareOnTwitter = () => {\n  const text = `My $BITCAT score: ${props.score}₿! 🎮\\nCan you beat it? 🏆\\nPlay now at solanabitcat.com/game 🐱 @bitcat_sol_ #BITCAT_GAME #BITCAT`\n  const url = 'https://solanabitcat.com/game/'\n  const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`\n  window.open(twitterUrl, '_blank')\n}\n</script>\n\n<style scoped>\n.share-popup-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.share-popup {\n  background: white;\n  border-radius: 10px;\n  padding: 20px;\n  width: 90%;\n  max-width: 400px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.share-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.share-header h2 {\n  margin: 0;\n  color: #1DA1F2;\n  font-family: 'Sour Gummy', sans-serif;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n  color: #666;\n}\n\n.share-content {\n  text-align: center;\n}\n\n.share-preview {\n  background: rgba(248, 247, 242, 1);\n  border-radius: 10px;\n  padding: 20px;\n  margin-bottom: 20px;\n}\n\n.share-image {\n  width: 160px;\n  margin-bottom: 10px;\n}\n\n.share-text {\n  font-size: 16px;\n  line-height: 1.4;\n}\n\n.share-text p {\n  margin: 5px 0;\n}\n\n.share-button {\n  background-color: #1DA1F2;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 20px;\n  cursor: pointer;\n  font-weight: bold;\n  width: 100%;\n  transition: background-color 0.2s;\n}\n\n.share-button:hover {\n  background-color: #1a91da;\n}\n</style>\n","import script from \"./SharePopup.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SharePopup.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SharePopup.vue?vue&type=style&index=0&id=6f6cc935&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6f6cc935\"]])\n\nexport default __exports__","import { render } from \"./SoloGamePage.vue?vue&type=template&id=57a4614e&scoped=true\"\nimport script from \"./SoloGamePage.vue?vue&type=script&lang=js\"\nexport * from \"./SoloGamePage.vue?vue&type=script&lang=js\"\n\nimport \"./SoloGamePage.vue?vue&type=style&index=0&id=57a4614e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-57a4614e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$setup","score","_hoisted_5","lives","_hoisted_6","timeLeft","_hoisted_7","ref","onClick","_cache","args","handleClick","src","catImage","style","_normalizeStyle","catScale","alt","_Fragment","_renderList","coins","coin","id","coinImage","x","size","y","_hoisted_10","gameOver","key","isFirstGame","_hoisted_11","_hoisted_12","_hoisted_13","disabled","isButtonDisabled","startGameHandler","_hoisted_14","$event","showShare","showRules","error","_hoisted_15","_createVNode","_component_GameHistoryWidget","_component_RulesPopup","_component_SharePopup","_ctx","gameHistory","length","game","index","_normalizeClass","$data","lastAddedIndex","$options","userTag","_component_router_link","to","gameId","formatDate","timestamp","name","computed","mapGetters","store","getters","data","watch","handler","newHistory","this","setTimeout","methods","mapActions","Date","toLocaleString","year","month","day","hour","minute","created","fetchGameHistory","__exports__","shareOnTwitter","text","props","url","twitterUrl","encodeURIComponent","window","open","components","RulesPopup","SharePopup","GameHistoryWidget","setup","gameField","state","isPlaying","console","log","newScale","oldScale","old","new","newValue","value","initSocket","dispatch","rect","getBoundingClientRect","isAuthenticated","socket","playerId","width","height","event","field","scaleX","offsetWidth","scaleY","offsetHeight","clientX","left","clientY","top","scale","client","cleanup","onMounted","onUnmounted","document","body","overflow","render"],"sourceRoot":""}